pluginManagement {
    def flutterSdkPath = {
        def properties = new Properties()
        file("local.properties").withInputStream { properties.load(it) }
        def flutterSdkPath = properties.getProperty("flutter.sdk")
        assert flutterSdkPath != null, "flutter.sdk not set in local.properties"
        return flutterSdkPath
    }()

    includeBuild("$flutterSdkPath/packages/flutter_tools/gradle")

    repositories {
        google()
        mavenCentral()
        gradlePluginPortal()
    }
    //     repositories {
    //     def ALIYUN_REPOSITORY_URL = 'https://maven.aliyun.com/repository/public'
    //     def ALIYUN_JCENTER_URL = 'https://maven.aliyun.com/repository/public'
    //     def ALIYUN_GOOGLE_URL = 'https://maven.aliyun.com/repository/google'
    //     def ALIYUN_GRADLE_PLUGIN_URL = 'https://maven.aliyun.com/repository/gradle-plugin'
    //     all { ArtifactRepository repo ->
    //         if(repo instanceof MavenArtifactRepository){
    //             def url = repo.url.toString()
    //             if (url.startsWith('https://repo1.maven.org/maven2/')) {
    //                 project.logger.lifecycle "Repository ${repo.url} replaced by $ALIYUN_REPOSITORY_URL."
    //                 remove repo
    //             }
    //             if (url.startsWith('https://jcenter.bintray.com/')) {
    //                 project.logger.lifecycle "Repository ${repo.url} replaced by $ALIYUN_JCENTER_URL."
    //                 remove repo
    //             }
    //             if (url.startsWith('https://dl.google.com/dl/android/maven2/')) {
    //                 project.logger.lifecycle "Repository ${repo.url} replaced by $ALIYUN_GOOGLE_URL."
    //                 remove repo
    //             }
    //             if (url.startsWith('https://plugins.gradle.org/m2/')) {
    //                 project.logger.lifecycle "Repository ${repo.url} replaced by $ALIYUN_GRADLE_PLUGIN_URL."
    //                 remove repo
    //             }
    //         }
    //     }
    //     maven { url ALIYUN_REPOSITORY_URL }
    //     maven { url ALIYUN_JCENTER_URL }
    //     maven { url ALIYUN_GOOGLE_URL }
    //     maven { url ALIYUN_GRADLE_PLUGIN_URL }
    //     google()
    //     mavenCentral()
    //     gradlePluginPortal()
    // }
}

plugins {
    id "dev.flutter.flutter-plugin-loader" version "1.0.0"
    id "com.android.application" version "8.1.0" apply false
    id "org.jetbrains.kotlin.android" version "1.8.22" apply false
}

// dependencyResolutionManagement{
//     repositories {
//         def ALIYUN_REPOSITORY_URL = 'https://maven.aliyun.com/repository/public'
//         def ALIYUN_JCENTER_URL = 'https://maven.aliyun.com/repository/public'
//         def ALIYUN_GOOGLE_URL = 'https://maven.aliyun.com/repository/google'
//         def ALIYUN_GRADLE_PLUGIN_URL = 'https://maven.aliyun.com/repository/gradle-plugin'
//         all { ArtifactRepository repo ->
//             if(repo instanceof MavenArtifactRepository){
//                 def url = repo.url.toString()
//                 if (url.startsWith('https://repo1.maven.org/maven2/')) {
//                     project.logger.lifecycle "Repository ${repo.url} replaced by $ALIYUN_REPOSITORY_URL."
//                     remove repo
//                 }
//                 if (url.startsWith('https://jcenter.bintray.com/')) {
//                     project.logger.lifecycle "Repository ${repo.url} replaced by $ALIYUN_JCENTER_URL."
//                     remove repo
//                 }
//                 if (url.startsWith('https://dl.google.com/dl/android/maven2/')) {
//                     project.logger.lifecycle "Repository ${repo.url} replaced by $ALIYUN_GOOGLE_URL."
//                     remove repo
//                 }
//                 if (url.startsWith('https://plugins.gradle.org/m2/')) {
//                     project.logger.lifecycle "Repository ${repo.url} replaced by $ALIYUN_GRADLE_PLUGIN_URL."
//                     remove repo
//                 }
//             }
//         }
//         maven { url ALIYUN_REPOSITORY_URL }
//         maven { url ALIYUN_JCENTER_URL }
//         maven { url ALIYUN_GOOGLE_URL }
//         maven { url ALIYUN_GRADLE_PLUGIN_URL }
//     }
// }

include ":app"
